<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶ó‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï‡¶ó‡¶£ | ‡¶´‡¶ø‡¶≤‡¶ø‡¶∏‡ßç‡¶§‡¶ø‡¶® ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</title>
    <meta name="description" content="‡¶ó‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶ì ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§ Tech for Palestine ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§ ‡¶§‡¶•‡ßç‡¶Ø, ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ì ‡¶™‡ßá‡¶ú‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶∏‡¶π‡•§">
    <meta name="keywords" content="Palestine, Gaza, journalists killed, press killed, media casualties, list, search, ‡¶´‡¶ø‡¶≤‡¶ø‡¶∏‡ßç‡¶§‡¶ø‡¶®, ‡¶ó‡¶æ‡¶ú‡¶æ, ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï, ‡¶™‡ßç‡¶∞‡ßá‡¶∏, ‡¶Æ‡¶ø‡¶°‡¶ø‡ßü‡¶æ, ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ">
    <meta property="og:title" content="‡¶ó‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ">
    <meta property="og:description" content="‡¶ó‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶ì ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£‡•§ Tech for Palestine ‡¶°‡ßá‡¶ü‡¶æ ‡¶â‡ßé‡¶∏‡•§">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kabir.pages.dev/palestine/press"> <meta property="og:image" content="https://kabir.pages.dev/palestine/images/press.jpg"> <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="‡¶ó‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ">
    <meta name="twitter:description" content="‡¶ó‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶ì ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£‡•§ Tech for Palestine ‡¶°‡ßá‡¶ü‡¶æ ‡¶â‡ßé‡¶∏‡•§">
    <meta name="twitter:image" content="https://kabir.pages.dev/palestine/images/press.jpg">
    <link rel="shortcut icon" href="../images/favicon.png" type="image/x-icon">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&family=Noto+Sans+Arabic:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans Arabic', 'Hind Siliguri', sans-serif; line-height: 1.7; background-color: #f8fafc; font-weight: 350 !important; }
        h1, h2, h3, button, th, label, p, span, div:not([dir="auto"]) { font-family: 'Hind Siliguri', 'Noto Sans Arabic', sans-serif; }
        td[dir="auto"], span[dir="auto"] { font-family: 'Noto Sans Arabic', 'Hind Siliguri', sans-serif; } /* Apply Arabic font specifically */
        .hamburger div { height: 3px; background-color: white; margin: 5px 0; transition: all 0.3s ease; border-radius: 3px; }
        .hamburger.active div:nth-child(1) { transform: rotate(-45deg) translate(-6px, 6px); }
        .hamburger.active div:nth-child(2) { opacity: 0; }
        .hamburger.active div:nth-child(3) { transform: rotate(45deg) translate(-5px, -5px); }
        #mobile-menu { transition: transform 0.3s ease-out; }
        .pagination-btn { padding: 6px 12px; margin: 0 3px; border: 1px solid #cbd5e1; border-radius: 4px; background-color: white; transition: background-color 0.2s, color 0.2s; cursor: pointer; }
        #mobile-menu a:hover{
          background: red;
        }
        .pagination-btn:hover { background-color: #f1f5f9; }
        .pagination-btn.active { background-color: #dc2626; color: white; border-color: #dc2626; }
        .pagination-btn:disabled { background-color: #e2e8f0; cursor: not-allowed; opacity: 0.6; }
        .modal { transition: opacity 0.3s ease, visibility 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
        .modal.open { visibility: visible; opacity: 1; }
        .modal.open .modal-content { transform: scale(1) translateY(0); }
        .press-row:hover { background-color: #f1f5f9; /* Lighter hover */ }
        .action-button { padding: 4px 8px; border-radius: 4px; background-color: #e5e7eb; /* gray-200 */ color: #374151; /* gray-700 */ transition: background-color 0.2s; }
        .action-button:hover { background-color: #d1d5db; /* gray-300 */ }
        a.highlight{
          color: red;
        }
    </style>
</head>
<body class="bg-slate-50">

    <header class="bg-gradient-to-r from-red-700 via-red-600 to-red-800 text-white shadow-md sticky top-0 z-40">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="text-xl md:text-2xl font-bold"><a href="../">‡¶´‡¶ø‡¶≤‡¶ø‡¶∏‡ßç‡¶§‡¶ø‡¶® ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</a></div>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="../" class="hover:text-red-200 transition duration-200">‡¶π‡ßã‡¶Æ</a>
                <a href="./" class="hover:text-red-200 transition duration-200">‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï</a>
                <a href="../infrastructure/" class="hover:text-red-200 transition duration-200">‡¶ï‡ßç‡¶∑‡¶§‡¶ø‡¶ó‡ßç‡¶∞‡¶∏‡ßç‡¶§ ‡¶Ö‡¶¨‡¶ï‡¶æ‡¶†‡¶æ‡¶Æ‡ßã</a>
                <a href="../contact/" class="hover:text-red-200 transition duration-200">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</a>
                
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="hamburger focus:outline-none" aria-label="‡¶Æ‡ßá‡¶®‡ßÅ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®"><div class="w-6"></div><div class="w-6"></div><div class="w-6"></div></button>
            </div>
        </nav>
        <div id="mobile-menu" class="md:hidden bg-gradient-to-r from-red-700 via-red-600 to-red-800  absolute top-full left-0 w-full transform -translate-x-full overflow-hidden shadow-lg">
             <a href="../" class="block px-4 py-3 text-white hover:bg-red-200 transition duration-200">‡¶π‡ßã‡¶Æ</a>
             <a href="./" class="block px-4 py-3 text-white hover:bg-red-200 transition duration-200">‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï</a>
             <a href="../infrastructure/" class="block px-4 py-3 text-white hover:bg-red-200 transition duration-200">‡¶ï‡ßç‡¶∑‡¶§‡¶ø‡¶ó‡ßç‡¶∞‡¶∏‡ßç‡¶§ ‡¶Ö‡¶¨‡¶ï‡¶æ‡¶†‡¶æ‡¶Æ‡ßã</a>
             <a href="../contact/" class="block px-4 py-3 text-white hover:bg-red-200 transition duration-200">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</a>
        </div>
    </header>

    <div class="container mx-auto p-4 md:p-6">
        <header class="text-center my-6 md:my-10 pt-4">
            <h1 class="text-3xl md:text-4xl font-bold text-red-600">‡¶ó‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶π‡¶§ ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï‡¶ó‡¶£</h1>
            <p class="text-sm text-gray-600 mt-2">‡¶§‡¶•‡ßç‡¶Ø‡¶∏‡ßÇ‡¶§‡ßç‡¶∞: Tech for Palestine</p>
        </header>

        <div class="mb-6 max-w-lg mx-auto">
            <label for="search-input" class="sr-only">‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</label>
            <input type="search" id="search-input" placeholder="üîç ‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï‡ßá‡¶∞ ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
        </div>

        <div id="press-loading-status" class="text-center mt-4 text-blue-600">‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
        <div id="press-error-message" class="text-center mt-4 text-red-600 bg-red-100 p-3 rounded hidden"></div>
        <div id="no-results-message" class="text-center mt-4 text-gray-500 hidden">‡¶ï‡ßã‡¶®‡ßã ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§</div>


        <div class="overflow-x-auto bg-white rounded-lg shadow-md border border-gray-200 mb-6">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-100">
                    <tr>
                        
                        <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">‡¶®‡¶æ‡¶Æ</th>
                        <th scope="col" class="px-4 py-3 text-center text-xs font-medium text-gray-600 uppercase tracking-wider w-20">‡¶¨‡¶ø‡¶¨‡¶∞‡¶£</th>
                    </tr>
                </thead>
                <tbody id="press-table-body" class="bg-white divide-y divide-gray-200">
                    </tbody>
            </table>
        </div>

        <div id="pagination-controls" class="flex justify-center items-center flex-wrap space-x-2 mt-6 pb-6">
            </div>

    </div> <div id="journalist-modal" class="modal fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-60 invisible opacity-0">
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[85vh] overflow-y-auto p-6 transform scale-95 -translate-y-10">
            <div class="flex justify-between items-center pb-3 border-b border-gray-200 mb-4">
                <h3 class="text-xl font-semibold text-gray-800" id="modal-title">‡¶∏‡¶æ‡¶Ç‡¶¨‡¶æ‡¶¶‡¶ø‡¶ï‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£</h3>
                <button id="modal-close-btn" class="text-gray-500 hover:text-gray-800" aria-label="‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="space-y-3">
                 
                <p><strong class="font-semibold text-gray-700 w-28 inline-block">‡¶®‡¶æ‡¶Æ (English):</strong> <span id="modal-name-en" class="text-gray-900"></span></p>
                <p dir="auto"><strong class="font-semibold text-gray-700 w-28 inline-block">‡¶®‡¶æ‡¶Æ (Arabic):</strong> <span id="modal-name-ar" class="text-gray-900"></span></p>
<!--                 <p><strong class="font-semibold text-gray-700 w-28 inline-block">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</strong> <span id="modal-date" class="text-gray-900"></span></p>
<p><strong class="font-semibold text-gray-700 w-28 inline-block">‡¶∏‡¶Ç‡¶∏‡ßç‡¶•‡¶æ:</strong> <span id="modal-agency" class="text-gray-900"></span></p>
<p><strong class="font-semibold text-gray-700 w-28 inline-block">‡¶®‡¶æ‡¶ó‡¶∞‡¶ø‡¶ï‡¶§‡ßç‡¶¨:</strong> <span id="modal-citizenship" class="text-gray-900"></span></p>
<p><strong class="font-semibold text-gray-700 w-28 inline-block">‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®:</strong> <span id="modal-location" class="text-gray-900"></span></p> -->
                <div class="pt-2">
                    <strong class="font-semibold text-gray-700 block mb-1">‡¶®‡ßã‡¶ü‡¶∏:</strong>
                    <p id="modal-notes" class="text-gray-800 text-sm bg-gray-50 p-3 rounded border border-gray-200 max-h-40 overflow-y-auto"></p> 
                </div>
                <p id="modal-link-wrapper" class="hidden"><strong class="font-semibold text-gray-700 w-28 inline-block">‡¶≤‡¶ø‡¶ô‡ßç‡¶ï:</strong> <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline break-all"></a></p>
            </div>
        </div>
        <div id="modal-backdrop" class="absolute inset-0 -z-10" aria-hidden="true"></div>
    </div>
<footer class="text-center mt-10 md:mt-16 py-6 border-t border-gray-300">
  <p class="text-gray-500 text-sm">&copy; ‡ß®‡ß¶‡ß®‡ß´ | ‡¶§‡¶•‡ßç‡¶Ø‡¶∏‡ßÇ‡¶§‡ßç‡¶∞: Tech for Palestine <br /> ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶æ‡¶∞: <a class="highlight" href="https://kabir.pages.dev">‡¶ï‡¶¨‡¶ø‡¶∞</a></p>
</footer>

    <script>
        // --- UI Elements ---
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const searchInput = document.getElementById('search-input');
        const tableBody = document.getElementById('press-table-body');
        const paginationControls = document.getElementById('pagination-controls');
        const loadingStatusEl = document.getElementById('press-loading-status');
        const errorMessageEl = document.getElementById('press-error-message');
        const noResultsMessageEl = document.getElementById('no-results-message');
        // Modal Elements
        const modal = document.getElementById('journalist-modal');
        const modalCloseBtn = document.getElementById('modal-close-btn');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalNameEn = document.getElementById('modal-name-en');
        const modalNameAr = document.getElementById('modal-name-ar');
        const modalDate = document.getElementById('modal-date');
        const modalAgency = document.getElementById('modal-agency');
        const modalCitizenship = document.getElementById('modal-citizenship');
        const modalLocation = document.getElementById('modal-location');
        const modalNotes = document.getElementById('modal-notes');
        const modalLink = document.getElementById('modal-link');
        const modalLinkWrapper = document.getElementById('modal-link-wrapper'); // Get wrapper for link visibility


        // --- State Variables ---
        const PRESS_API_URL = 'https://data.techforpalestine.org/api/v2/press_killed_in_gaza.min.json';
        let allPressData = [];
        let filteredPressData = [];
        let currentPage = 1;
        const itemsPerPage = 10;

        // --- Mobile Menu Toggle ---
        if(menuBtn && mobileMenu) { // Check elements exist
             menuBtn.addEventListener('click', () => {
                 menuBtn.classList.toggle('active');
                 mobileMenu.classList.toggle('-translate-x-full');
             });
        }

        // --- Helper Functions ---
         const formatDate = (dateString) => {
             try {
                  if (!dateString || !/^\d{4}-\d{2}-\d{2}/.test(dateString)) return 'N/A';
                  const date = new Date(dateString.substring(0, 10) + 'T00:00:00Z');
                  if (isNaN(date.getTime())) return dateString;
                  return date.toLocaleDateString('bn-BD', { day: 'numeric', month: 'long', year: 'numeric', timeZone: 'UTC'});
              } catch (e) { return dateString || 'N/A'; }
          };

        // --- Modal Functions ---
        function showModal(journalist) {
             if (!journalist || !modal) return;
             modalNameEn.textContent = journalist.name_en || 'N/A';
             modalNameAr.textContent = journalist.name || 'N/A';
             modalNotes.textContent = journalist.notes || 'N/A';

             if (journalist.link) {
                  modalLink.href = journalist.link;
                  modalLink.textContent = journalist.link; // Show the full link
                  modalLinkWrapper.classList.remove('hidden');
              } else {
                  modalLinkWrapper.classList.add('hidden');
              }

             modal.classList.remove('invisible', 'opacity-0');
             modal.classList.add('visible', 'opacity-100');
             modal.querySelector('.modal-content').classList.remove('scale-95', '-translate-y-10');
             modal.querySelector('.modal-content').classList.add('scale-100', 'translate-y-0');
        }

        function hideModal() {
            if (!modal) return;
             modal.classList.add('opacity-0');
             modal.querySelector('.modal-content').classList.add('scale-95', '-translate-y-10');
             setTimeout(() => {
                 modal.classList.add('invisible');
                 modal.classList.remove('visible');
                 modal.querySelector('.modal-content').classList.remove('scale-100', 'translate-y-0');
             }, 300);
        }

        if(modalCloseBtn && modalBackdrop) { // Check elements exist
            modalCloseBtn.addEventListener('click', hideModal);
            modalBackdrop.addEventListener('click', hideModal);
        }


        // --- Table Display Function ---
        function displayTablePage(page) {
             currentPage = page;
             if(!tableBody || !noResultsMessageEl) return; // Check elements
             tableBody.innerHTML = '';
             noResultsMessageEl.classList.add('hidden');

             if (filteredPressData.length === 0) {
                 if (loadingStatusEl && !loadingStatusEl.classList.contains('hidden')) { /* Still loading */ }
                 else { noResultsMessageEl.classList.remove('hidden'); }
                 setupPaginationControls();
                 return;
             }

             const startIndex = (page - 1) * itemsPerPage;
             const endIndex = startIndex + itemsPerPage;
             const pageItems = filteredPressData.slice(startIndex, endIndex);

             pageItems.forEach((journalist, index) => {
                 const globalIndex = startIndex + index;
                 const row = tableBody.insertRow();
                 // Removed cursor-pointer from row, add hover effect via CSS
                 row.className = "press-row";
                 row.dataset. journalismIndex = globalIndex; // Store index if needed elsewhere, not directly for button click

                 // Simplified row structure
                 row.innerHTML = `
                     <td class="px-4 py-3 whitespace-nowrap text-sm">
                         <span class="font-medium text-gray-900">${journalist.name_en || 'N/A'}</span>
                         <span class="hidden md:inline text-gray-500 ml-2" dir="auto">(${journalist.name || 'N/A'})</span>
                     </td>
                     <td class="px-4 py-3 whitespace-nowrap text-center text-sm w-20">
                          <button class="view-details-btn action-button" data-index="${globalIndex}" aria-label="‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ${journalist.name_en || ''}">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>
                          </button>
                     </td>
                     `;
             });
             setupPaginationControls();
        }

         // Add Event Listener for VIEW BUTTON Clicks (using event delegation)
          if(tableBody) {
              tableBody.addEventListener('click', (event) => {
                  const viewButton = event.target.closest('button.view-details-btn'); // Target the button specifically
                  if (viewButton && viewButton.dataset.index !== undefined) {
                      const index = parseInt(viewButton.dataset.index, 10);
                      const journalistData = filteredPressData[index];
                      if (journalistData) {
                          showModal(journalistData);
                      } else {
                          console.error("Could not find journalist data for index:", index);
                      }
                  }
              });
          }

        // --- Pagination Setup ---
        function setupPaginationControls() { /* ... same as before ... */
            if(!paginationControls) return;
             paginationControls.innerHTML = '';
             const totalPages = Math.ceil(filteredPressData.length / itemsPerPage);
             if (totalPages <= 1) return;

             const prevButton = document.createElement('button'); prevButton.textContent = '‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ'; prevButton.className = 'pagination-btn'; prevButton.disabled = currentPage === 1; prevButton.addEventListener('click', () => displayTablePage(currentPage - 1)); paginationControls.appendChild(prevButton);

             const maxButtonsToShow = window.innerWidth < 640 ? 3 : 5; let startPage = Math.max(1, currentPage - Math.floor(maxButtonsToShow / 2)); let endPage = Math.min(totalPages, startPage + maxButtonsToShow - 1); if (totalPages > maxButtonsToShow && endPage === totalPages) { startPage = Math.max(1, endPage - maxButtonsToShow + 1); }
              if (startPage > 1) { const firstButton = document.createElement('button'); firstButton.textContent = '‡ßß'; firstButton.className = 'pagination-btn'; firstButton.addEventListener('click', () => displayTablePage(1)); paginationControls.appendChild(firstButton); if (startPage > 2) { const ellipsis = document.createElement('span'); ellipsis.textContent = '...'; ellipsis.className = 'px-1 md:px-2 py-1 text-gray-500'; paginationControls.appendChild(ellipsis); } }
              for (let i = startPage; i <= endPage; i++) { const pageButton = document.createElement('button'); pageButton.textContent = i.toLocaleString('bn-BD'); pageButton.className = `pagination-btn ${i === currentPage ? 'active' : ''}`; pageButton.addEventListener('click', () => displayTablePage(i)); paginationControls.appendChild(pageButton); }
               if (endPage < totalPages) { if (endPage < totalPages - 1) { const ellipsis = document.createElement('span'); ellipsis.textContent = '...'; ellipsis.className = 'px-1 md:px-2 py-1 text-gray-500'; paginationControls.appendChild(ellipsis); } const lastButton = document.createElement('button'); lastButton.textContent = totalPages.toLocaleString('bn-BD'); lastButton.className = 'pagination-btn'; lastButton.addEventListener('click', () => displayTablePage(totalPages)); paginationControls.appendChild(lastButton); }

             const nextButton = document.createElement('button'); nextButton.textContent = '‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ'; nextButton.className = 'pagination-btn'; nextButton.disabled = currentPage === totalPages; nextButton.addEventListener('click', () => displayTablePage(currentPage + 1)); paginationControls.appendChild(nextButton);
         }

        // --- Search Functionality ---
         if(searchInput) { // Check element exists
             searchInput.addEventListener('input', (e) => {
                 const searchTerm = e.target.value.toLowerCase().trim();
                 filteredPressData = allPressData.filter(journalist =>
                     journalist.name_en && journalist.name_en.toLowerCase().includes(searchTerm)
                 );
                 displayTablePage(1);
             });
         }

        // --- Fetch Initial Data ---
        async function fetchPressData() {
             if(loadingStatusEl) loadingStatusEl.classList.remove('hidden');
             if(errorMessageEl) errorMessageEl.classList.add('hidden');
             if(noResultsMessageEl) noResultsMessageEl.classList.add('hidden');
             if(tableBody) tableBody.innerHTML = ''; // Clear table
             if(paginationControls) paginationControls.innerHTML = ''; // Clear pagination

             try {
                 const response = await fetch(PRESS_API_URL);
                 if (!response.ok) throw new Error(`‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø (Status: ${response.status})`);
                 allPressData = await response.json();
                  if (!Array.isArray(allPressData)) throw new Error("API ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶®‡ßá‡¶á‡•§");

                 console.log("Press Data Received:", allPressData.length);
                 filteredPressData = [...allPressData];
                 displayTablePage(1);
                 if(loadingStatusEl) loadingStatusEl.classList.add('hidden');

             } catch (error) {
                  console.error("Error fetching press data:", error);
                  if(errorMessageEl) { errorMessageEl.textContent = `‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: ${error.message}. ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§`; errorMessageEl.classList.remove('hidden'); }
                  if(loadingStatusEl) loadingStatusEl.classList.add('hidden');
                  if(tableBody) tableBody.innerHTML = `<tr><td colspan="2" class="text-center py-4 text-red-600">‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§</td></tr>`; // Update colspan
                  if(paginationControls) paginationControls.innerHTML = '';
              }
        }

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            fetchPressData();
        });

    </script>

</body>
</html>
